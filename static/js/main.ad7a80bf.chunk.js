(this.webpackJsonpinvestor=this.webpackJsonpinvestor||[]).push([[0],{72:function(e,t,r){},84:function(e,t,r){"use strict";r.r(t);var c=r(4),a=r.n(c),n=r(43),s=r.n(n),i=(r(72),r(17)),o=r(57),l=r(64),u=r(95),b=r(10),d=r(26),j=r(15),f=r(0),O=r.n(f),p=r(5),x=r(96),h=r(2),k=Object(x.a)((function(e){return{searchListContainer:{maxWidth:"500px"},searchList:{listStyle:"none",padding:"0",margin:"0"},addButton:{border:"none","&:hover":{color:"#fff",backgroundColor:"#222"}}}}));var y=function(e){var t=k();return Object(h.jsx)("div",{className:t.searchListContainer,children:Object(h.jsx)("ul",{className:t.searchList,children:e.searchResult.map((function(r){return Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(t){return e.submitTicker(t,r.ticker)},className:t.addButton,children:r.descr})},r.ticker+r.classcode)}))})})},m=r(3),v=r(14),C="TICKERS::ADD_FILTERED_TICKERS",D="TICKERS::ADD_TICKER_WITH_SAGA",g=function(e,t,r,c,a,n,s,i,o,l,u,b,d,j,f,O,p,x){return{type:D,ticker:e,description:t,date:r,quantity:c,usdCost:a,usdTotal:n,rubCost:s,rubTotal:i,eurCost:o,eurTotal:l,profitUsdAbs:u,profitUsdRel:b,profitRubAbs:d,profitRubRel:j,profitEurAbs:f,profitEurRel:O,currency:p,tickerType:x}},T=r(45),R=r(20),E=r(62),N=(Object(E.a)({apiKey:"AIzaSyAS0Sazo-Bbg-TouSxSrenj5hTYa5bnjN8",authDomain:"investor-8a0c2.firebaseapp.com",projectId:"investor-8a0c2",storageBucket:"investor-8a0c2.appspot.com",messagingSenderId:"949350207446",appId:"1:949350207446:web:c6cf85c9033c3ed2491e77"}),Object(T.b)()),P=Object(R.b)(),A=function(e){return"https://api.bcs.ru/udfdatafeed/v1/symbols?symbol=".concat(e)},U=function(e,t,r){return+t&&+r?"https://api.bcs.ru/udfdatafeed/v1/history?symbol=".concat(e,"&resolution=d&from=").concat(Math.round(+new Date(t)/1e3),"&to=").concat(Math.round(+new Date(r)/1e3)):"https://api.bcs.ru/udfdatafeed/v1/history?symbol=".concat(e,"&resolution=d&from=").concat(Math.round(+new Date/1e3),"&to=").concat(Math.round(+new Date/1e3))},w=function(){var e=Object(p.a)(O.a.mark((function e(t,r,c,a,n,s,i){var o,l,u,b,d,j,f,p,x,h,k,y,m,v,C,D,T,E,w,S,F,I,_,L,q,B,H,$,G,W,K,M,Y,z;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=+new Date(r);5!==new Date(o).getDay();)o+=864e5;if(e.prev=2,i){e.next=70;break}return l=U("RUR",o,o+828e5),e.next=7,fetch(l);case 7:return u=e.sent,e.next=10,u.json();case 10:return b=e.sent,d=b.c[0],j=U("EUR_RUB",o,o+828e5),e.next=15,fetch(j);case 15:return f=e.sent,e.next=18,f.json();case 18:return p=e.sent,x=p.c[0],h=A(t),e.next=23,fetch(h);case 23:return k=e.sent,e.next=26,k.json();case 26:return y=e.sent,m=U(t,o,o+828e5),e.next=30,fetch(m);case 30:return v=e.sent,e.next=33,v.json();case 33:if("no_data"!==(C=e.sent).s&&!isNaN(C.c[0])){e.next=36;break}throw new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445");case 36:if(D=1,"rur"===a?D=1/d:"usd"===a?D=1:"eur"===a&&(D=x/d),T=1,"rur"===a?T=1:"usd"===a?T=d:"eur"===a&&(T=x),E=1,"rur"===a?E=1/x:"usd"===a?E=d/x:"eur"===a&&(E=x/d),w="bonds"!==y.type?C.c[0]*D:C.c[0]*D*10,S="bonds"!==y.type?C.c[0]*D*c:C.c[0]*D*c*10,F="bonds"!==y.type?C.c[0]*T:C.c[0]*T*10,I="bonds"!==y.type?C.c[0]*T*c:C.c[0]*T*c*10,_="bonds"!==y.type?C.c[0]*E:C.c[0]*E*10,L="bonds"!==y.type?C.c[0]*E*c:C.c[0]*E*c*10,q=n,s){e.next=59;break}return B=Object(R.d)(P,"".concat(N.currentUser.uid,"/tickers/").concat(y.type,"/").concat(t,"/data/").concat(new Date(o-6048e5).toISOString().slice(0,10))),e.next=56,Object(R.a)(B);case 56:(H=e.sent).exists()&&($=H.val(),q.ticker=$.ticker,q.rubCost=$.rubCost,q.usdCost=$.usdCost,q.eurCost=$.eurCost,q.quantity=$.quantity);case 59:if(void 0!==q.ticker){e.next=63;break}return e.abrupt("return",g(t,y.description,new Date(o).toISOString().slice(0,10),c,w,S,F,I,_,L,0,0,0,0,0,0,a,y.type));case 63:return G=(w-q.usdCost)*q.quantity,W=(w-q.usdCost)/q.usdCost*100,K=(F-q.rubCost)*q.quantity,M=(F-q.rubCost)/q.rubCost*100,Y=(_-q.eurCost)*q.quantity,z=(_-q.eurCost)/q.eurCost*100,e.abrupt("return",g(t,y.description,new Date(o).toISOString().slice(0,10),c,w,S,F,I,_,L,G,W,K,M,Y,z,a,y.type));case 70:e.next=76;break;case 73:e.prev=73,e.t0=e.catch(2),console.log(e.t0.message);case 76:case"end":return e.stop()}}),e,null,[[2,73]])})));return function(t,r,c,a,n,s,i){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(O.a.mark((function e(t,r){var c,a,n,s,i,o,l,u,b,d,j,f,p,x,h,k,y,C,D;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=U("RUR",null,null),a=U("EUR_RUB",null,null),e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,i=s.c[0],e.next=11,fetch(a);case 11:return o=e.sent,e.next=14,o.json();case 14:l=e.sent,u=l.c[0],h={},e.t0=O.a.keys(t);case 18:if((e.t1=e.t0()).done){e.next=32;break}return k=e.t1.value,y=U(k,null,null),e.next=23,fetch(y);case 23:return C=e.sent,e.next=26,C.json();case 26:D=e.sent,"rur"===t[k].currency?(b=D.c[0],d=b*t[k].quantity,f=(j=b/i)*t[k].quantity,x=(p=b/u)*t[k].quantity):"usd"===t[k].currency?(j=D.c[0],f=j*t[k].quantity,d=(b=j*i)*t[k].quantity,x=(p=b/u)*t[k].quantity):"eur"===t[k].currency&&(p=D.c[0],x=p*t[k].quantity,d=(b=p*u)*t[k].quantity,f=(j=b/i)*t[k].quantity),"bonds"===r&&(b*=10,d*=10,j*=10,f*=10,p*=10,x*=10),h=Object(v.a)(Object(v.a)({},h),{},Object(m.a)({},k,{quantity:t[k].quantity,RUBCost:b,RUBTotal:d,USDCost:j,USDTotal:f,EURCost:p,EURTotal:x,currency:t[k].currency,description:t[k].description})),e.next=18;break;case 32:return e.abrupt("return",h);case 33:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),F=function(){for(var e=0,t=0,r=0,c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return a.forEach((function(c){Object.values(c).forEach((function(c){e+=+c.RUBTotal,t+=+c.USDTotal,r+=+c.EURTotal}))})),{RUBGrandTotal:e,USDGrandTotal:t,EURGrandTotal:r}},I=function(e,t,r){var c={};return Object.keys(e).forEach((function(a){var n=Object.keys(e[a]);c=Object(v.a)(Object(v.a)({},c),{},Object(m.a)({},a,{})),n.forEach((function(n){var s=Object.keys(e[a][n].data);c=Object(v.a)(Object(v.a)({},c),{},Object(m.a)({},a,Object(v.a)(Object(v.a)({},c[a]),{},Object(m.a)({},n,{data:{}})))),s.filter((function(e){return new Date(e).getMonth()===r&&new Date(e).getFullYear()===t})).forEach((function(t){c=Object(v.a)(Object(v.a)({},c),{},Object(m.a)({},a,Object(v.a)(Object(v.a)({},c[a]),{},Object(m.a)({},n,{data:Object(v.a)(Object(v.a)({},c[a][n].data),{},Object(m.a)({},t,e[a][n].data[t]))}))))}))}))})),{type:C,filteredTickers:c}},_=function(e,t,r){var c={},a=Object.keys(e);return(void 0!==r?a.filter((function(e){return new Date(e).getMonth()===r&&new Date(e).getFullYear()===t})):a.filter((function(e){return new Date(e).getFullYear()===t}))).forEach((function(t){c=Object(v.a)(Object(v.a)({},c),{},Object(m.a)({},t,e[t]))})),c},L=function(e){var t={};return Object.values(e).forEach((function(r,c){var a=Object.keys(r);t=Object(v.a)(Object(v.a)({},t),{},Object(m.a)({},Object.keys(e)[c],{})),Object.values(r).forEach((function(r,n){var s=0,i=1,o=0,l=1,u=0,b=1;Object.values(r.data).forEach((function(e){s+=+e.profitUsdAbs,i*=1+ +e.profitUsdRel/100,o+=+e.profitRubAbs,l*=1+ +e.profitRubRel/100,u+=+e.profitEurAbs,b*=1+ +e.profitEurRel/100})),i=100*(i-1),l=100*(l-1),b=100*(b-1),t=Object(v.a)(Object(v.a)({},t),{},Object(m.a)({},Object.keys(e)[c],Object(v.a)(Object(v.a)({},t[Object.keys(e)[c]]),{},Object(m.a)({},a[n],{sumProfitUsdAbs:s,sumProfitUsdRel:i,sumProfitRubAbs:o,sumProfitRubRel:l,sumProfitEurAbs:u,sumProfitEurRel:b}))))}))})),t},q=function(e,t){var r={};if(t.no_data)return r;var c=void 0,a=void 0,n=void 0;return Object.keys(t).forEach((function(t){var s=0,i=0,o=0,l=0,u=0,b=0,d=0,j=0,f=0;Object.values(e).forEach((function(e,r){Object.values(e).forEach((function(e,r){void 0!==e.data[t]&&(s+=+e.data[t].usdTotal,i+=+e.data[t].profitUsdAbs,l+=+e.data[t].rubTotal,u+=+e.data[t].profitRubAbs,d+=+e.data[t].eurTotal,j+=+e.data[t].profitEurAbs)}))})),void 0!==c&&0!==c&&(o=i/c*100,b=u/a*100,f=j/n*100),c=s,a=l,n=d,r=Object(v.a)(Object(v.a)({},r),{},Object(m.a)({},t,{portfolioUsdTotal:s,portfolioUsdProfitAbs:i,portfolioUsdProfitRel:o,portfolioRubTotal:l,portfolioRubProfitAbs:u,portfolioRubProfitRel:b,portfolioEurTotal:d,portfolioEurProfitAbs:j,portfolioEurProfitRel:f}))})),r},B=Object(x.a)((function(e){return{form:{maxWidth:"400px",border:"1px solid black",borderRadius:"10px",display:"flex",flexDirection:"column",margin:"10px"},formSubmit:{display:"block"},searchItem:{margin:"5px 10px",marginBottom:"5px"}}}));var H=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],n=Object(c.useState)(""),s=Object(b.a)(n,2),o=s[0],l=s[1],u=Object(c.useState)(""),d=Object(b.a)(u,2),j=d[0],f=d[1],x=Object(c.useState)(""),k=Object(b.a)(x,2),m=k[0],v=k[1],C=Object(c.useState)([]),D=Object(b.a)(C,2),g=D[0],T=D[1],R=Object(c.useState)("rur"),E=Object(b.a)(R,2),N=E[0],P=E[1],A=Object(i.b)(),U=function(){var e=Object(p.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T([]),e.next=4,w(r,j,o,N,{},!1,!1);case 4:(c=e.sent)&&A(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=B();return Object(h.jsxs)("form",{action:"",onSubmit:U,className:S.form,label:"Ticker",children:[Object(h.jsx)("input",{type:"text",disabled:!0,className:S.searchItem,value:r,onChange:function(e){a(e.target.value)},required:!0}),Object(h.jsxs)("select",{required:!0,onChange:function(e){P(e.target.value)},className:S.searchItem,children:[Object(h.jsx)("option",{value:"rur",children:"rur"}),Object(h.jsx)("option",{value:"usd",children:"usd"}),Object(h.jsx)("option",{value:"eur",children:"eur"})]}),Object(h.jsx)("input",{type:"number",className:S.searchItem,value:o,onChange:function(e){l(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"date",className:S.searchItem,value:j,onChange:function(e){f(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"submit",className:S.formSubmit+" "+S.searchItem,value:"Add"}),Object(h.jsx)("input",{type:"text",className:S.searchItem,value:m,onChange:function(e){v(e.target.value);var t,r=(t=e.target.value,"https://api.bcs.ru/udfdatafeed/v1/search?query=".concat(t,"&limit=10&fulldescription=on"));fetch(r).then((function(e){return e.json()})).then((function(e){var t=[];e.forEach((function(e,r){t.push({ticker:e.symbol,descr:e.description,classcode:e.classcode})})),T(t)})).catch((function(e){console.log(e)}))}}),Object(h.jsx)(y,{className:S.searchItem,searchResult:g,submitTicker:function(e,t){e.preventDefault(),a(t)}})]})},$="TICKERS::DEL_TICKER_WITH_SAGA",G=function(e,t){return{type:$,ticker:e,marketType:t}},W=Object(x.a)((function(e){return{table:{maxWidth:"100%"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px",overflow:"auto"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"},tickerTable:{display:"flex",flexDirection:"row"},tickerDate:{width:"100px",display:"flex",flexDirection:"column",borderLeft:"1px solid black","&:last-child":{borderRight:"1px solid black"}},tickerHeader:{width:"200px",display:"flex",flexDirection:"column",borderLeft:"1px solid black","&:last-child":{borderRight:"1px solid black"}},tickerDateCell:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}},green:{backgroundColor:"\t#66CC66"},red:{backgroundColor:"#FF6666"}}}));function K(e){var t=Object(c.useState)(0),r=Object(b.a)(t,2),a=r[0],n=r[1],s=Object(c.useState)(1),i=Object(b.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)(0),d=Object(b.a)(u,2),j=d[0],f=d[1],O=Object(c.useState)(1),p=Object(b.a)(O,2),x=p[0],k=p[1],y=Object(c.useState)(0),m=Object(b.a)(y,2),v=m[0],C=m[1],D=Object(c.useState)(1),g=Object(b.a)(D,2),T=g[0],R=g[1];Object(c.useEffect)((function(){var t=0,r=1,c=0,a=1,s=0,i=1;Object.values(e.ticker.data).forEach((function(e){t+=+e.profitUsdAbs,r*=1+e.profitUsdRel/100,c+=+e.profitRubAbs,a*=1+e.profitRubRel/100,s+=+e.profitEurAbs,i*=1+e.profitEurRel/100})),r=100*(r-1),a=100*(a-1),i=100*(i-1),n(t),l(r),f(c),k(a),C(s),R(i)}),[e]);var E=W();return Object(h.jsxs)("div",{className:E.tickerTable,children:[Object(h.jsxs)("div",{className:E.tickerHeader,children:[Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u0430\u0442\u0430"}),Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),"usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 $"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u20bd"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u20ac"}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 $, \u0430\u0431\u0441"}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 $, %"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 \u20bd, \u0430\u0431\u0441"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 \u20bd, %"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 \u20ac, \u0430\u0431\u0441"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 \u20ac, %"}):""]}),Object.values(e.ticker.data).map((function(t,r){return Object(h.jsxs)("div",{className:E.tickerDate,children:[Object(h.jsx)("p",{className:E.tickerDateCell,children:Object.keys(e.ticker.data)[r]}),Object(h.jsx)("p",{className:E.tickerDateCell,children:t.quantity}),"usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:(+t.usdCost).toFixed(2)}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:(+t.usdTotal).toFixed(2)}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:(+t.rubCost).toFixed(2)}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:(+t.rubTotal).toFixed(2)}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:(+t.eurCost).toFixed(2)}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell,children:(+t.eurTotal).toFixed(2)}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(t.profitUsdAbs>=0?E.green:E.red),children:(+t.profitUsdAbs).toFixed(2)+" $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(t.profitUsdAbs>=0?E.green:E.red),children:(+t.profitUsdRel).toFixed(2)+" %"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(t.profitRubAbs>=0?E.green:E.red),children:(+t.profitRubAbs).toFixed(2)+" \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(t.profitRubAbs>=0?E.green:E.red),children:(+t.profitRubRel).toFixed(2)+" %"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(t.profitEurAbs>=0?E.green:E.red),children:(+t.profitEurAbs).toFixed(2)+" \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(t.profitEurAbs>=0?E.green:E.red),children:(+t.profitEurRel).toFixed(2)+" %"}):""]},t.ticker+Object.keys(e.ticker.data)[r])})),Object(h.jsxs)("div",{className:E.tickerDate,children:[Object(h.jsx)("p",{className:E.tickerDateCell,children:"-"}),Object(h.jsx)("p",{className:E.tickerDateCell,children:"-"}),Object(h.jsx)("p",{className:E.tickerDateCell,children:"-"}),Object(h.jsx)("p",{className:E.tickerDateCell,children:"-"}),"usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(a>=0?E.green:E.red),children:a.toFixed(2)+" $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(a>=0?E.green:E.red),children:o.toFixed(2)+" %"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(j>=0?E.green:E.red),children:j.toFixed(2)+" \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(j>=0?E.green:E.red),children:x.toFixed(2)+" %"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(v>=0?E.green:E.red),children:v.toFixed(2)+" \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:E.tickerDateCell+" "+(v>=0?E.green:E.red),children:T.toFixed(2)+" %"}):""]})]})}var M=a.a.memo(K),Y=Object(x.a)((function(e){return{table:{maxWidth:"100%"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px",overflow:"auto"},description:{margin:"5px"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"}}}));function z(e){var t=Object(i.b)(),r=Y(),c=Object.values(e.filteredTickers||{}),a=Object.keys(e.filteredTickers||{});return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:r.table,children:c.map((function(c,n){return 0!==Object.keys(c.data).length&&Object(h.jsxs)("div",{className:r.ticker,children:[Object(h.jsxs)("div",{className:r.tickerName,children:[Object(h.jsx)("p",{className:r.description,children:a[n]}),Object(h.jsx)("p",{className:r.description,children:c.data[Object.keys(c.data)[Object.keys(c.data).length-1]].description}),Object(h.jsx)("p",{className:r.description,children:c.data[Object.keys(c.data)[Object.keys(c.data).length-1]].currency}),Object(h.jsx)("button",{onClick:function(){return function(e,r){t(G(e,r))}(a[n],e.type)},children:"del"})]}),Object(h.jsx)(M,{ticker:c,currency:e.currency})]},a[n])}))})})}var J=a.a.memo(z),X=Object(x.a)((function(e){return{table:{maxWidth:"100%"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px",overflow:"auto"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"},tickerTable:{display:"flex",flexDirection:"row",margin:"10px"},tickerDate:{width:"100px",display:"flex",flexDirection:"column",borderLeft:"1px solid black","&:last-child":{borderRight:"1px solid black"}},tickerHeader:{width:"321px",display:"flex",flexDirection:"column",borderLeft:"1px solid black","&:last-child":{borderRight:"1px solid black"}},tickerDateCell:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}},green:{backgroundColor:"\t#66CC66"},red:{backgroundColor:"#FF6666"}}}));function V(e){var t=X(),r=Object(c.useState)(0),a=Object(b.a)(r,2),n=a[0],s=a[1],i=Object(c.useState)(0),o=Object(b.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(1),j=Object(b.a)(d,2),f=j[0],O=j[1],p=Object(c.useState)(0),x=Object(b.a)(p,2),k=x[0],y=x[1],m=Object(c.useState)(0),v=Object(b.a)(m,2),C=v[0],D=v[1],g=Object(c.useState)(1),T=Object(b.a)(g,2),R=T[0],E=T[1],N=Object(c.useState)(0),P=Object(b.a)(N,2),A=P[0],U=P[1],w=Object(c.useState)(0),S=Object(b.a)(w,2),F=S[0],I=S[1],_=Object(c.useState)(1),L=Object(b.a)(_,2),q=L[0],B=L[1];return Object(c.useEffect)((function(){var t=0,r=0,c=1,a=0,n=0,i=1,o=0,l=0,b=1;Object.values(e.weeklyResult).forEach((function(e){t=+e.portfolioUsdTotal,r+=+e.portfolioUsdProfitAbs,c*=1+e.portfolioUsdProfitRel/100,a=+e.portfolioRubTotal,n+=+e.portfolioRubProfitAbs,i*=1+e.portfolioRubProfitRel/100,o=+e.portfolioEurTotal,l+=+e.portfolioEurProfitAbs,b*=1+e.portfolioEurProfitRel/100})),c=100*(c-1),i=100*(i-1),b=100*(b-1),s(t),u(r),O(c),y(a),D(n),E(i),U(o),I(l),B(b)}),[e]),Object(h.jsxs)("div",{className:t.tickerTable,children:[Object(h.jsxs)("div",{className:t.tickerHeader,children:[Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u0430\u0442\u0430"}),"usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0430\u0431\u0441 \u0432 $ "}):"","usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c % \u0432 $ "}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0430\u0431\u0441 \u0432 \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c % \u0432 \u20bd"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0430\u0431\u0441 \u0432 \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c % \u0432 \u20ac"}):""]}),Object.values(e.weeklyResult).map((function(r,c){return Object(h.jsxs)("div",{className:t.tickerDate,children:[Object(h.jsx)("p",{className:t.tickerDateCell,children:Object.keys(e.weeklyResult)[c]}),"usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:r.portfolioUsdTotal.toFixed(2)+" $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(r.portfolioUsdProfitAbs>=0?t.green:t.red),children:r.portfolioUsdProfitAbs.toFixed(2)+" $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(r.portfolioUsdProfitAbs>=0?t.green:t.red),children:r.portfolioUsdProfitRel.toFixed(2)+" %"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:r.portfolioRubTotal.toFixed(2)+" \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(r.portfolioRubProfitAbs>=0?t.green:t.red),children:r.portfolioRubProfitAbs.toFixed(2)+" \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(r.portfolioRubProfitAbs>=0?t.green:t.red),children:r.portfolioRubProfitRel.toFixed(2)+" %"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:r.portfolioEurTotal.toFixed(2)+" \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(r.portfolioEurProfitAbs>=0?t.green:t.red),children:r.portfolioEurProfitAbs.toFixed(2)+" \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(r.portfolioEurProfitAbs>=0?t.green:t.red),children:r.portfolioEurProfitRel.toFixed(2)+" %"}):""]},Object.keys(e.weeklyResult)[c])})),Object(h.jsxs)("div",{className:t.tickerDate,children:[Object(h.jsx)("p",{className:t.tickerDateCell,children:"-"}),"usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:n.toFixed(2)+" $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(l>=0?t.green:t.red),children:l.toFixed(2)+" $"}):"","usd"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(l>=0?t.green:t.red),children:f.toFixed(2)+" %"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:k.toFixed(2)+" \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(C>=0?t.green:t.red),children:C.toFixed(2)+" \u20bd"}):"","rur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(C>=0?t.green:t.red),children:R.toFixed(2)+" %"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell,children:A.toFixed(2)+" \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(F>=0?t.green:t.red),children:F.toFixed(2)+" \u20ac"}):"","eur"===e.currency?Object(h.jsx)("p",{className:t.tickerDateCell+" "+(F>=0?t.green:t.red),children:q.toFixed(2)+" %"}):""]})]})}var Q=a.a.memo(V),Z="USER::INIT_USER_DATA",ee=function(e){return{type:Z,userData:e}},te="USER::INIT_USER_DATA_WITH_SAGA",re="",ce={};function ae(e){return e.userData.tickers?e.userData.tickers:ce}function ne(e){return e.filteredTickers.stock?e.filteredTickers.stock:ce}function se(e){return e.filteredTickers.pif?e.filteredTickers.pif:ce}function ie(e){return e.filteredTickers.etf?e.filteredTickers.etf:ce}function oe(e){return e.filteredTickers.bonds?e.filteredTickers.bonds:ce}function le(e){return e.filteredTickers.forex?e.filteredTickers.forex:ce}function ue(e){return e.userData.dates?e.userData.dates:ce}var be="TICKERS::AUTOCOMPLETE_TICKER_WITH_SAGA",de=function(e,t,r,c,a){return{type:be,ticker:e,date:t,quantity:r,currency:c,prevData:a}},je="PROFILE::CALCULATE_YEAR_PROFIT",fe=function(e){return{type:je,yearProfit:e}},Oe="PROFILE::CALCULATE_YEAR_PROFIT_WITH_SAGA",pe="PROFILE::CALCULATE_WEEKLY_PORTFOLIO_PROFIT_AND_COST",xe="PROFILE::CALCULATE_WEEKLY_PORTFOLIO_PROFIT_AND_COST_WITH_SAGA";function he(e){return e.userData.portfolio?e.userData.portfolio:ce}function ke(e){return e.currentUserData.stock?e.currentUserData.stock:ce}function ye(e){return e.currentUserData.pif?e.currentUserData.pif:ce}function me(e){return e.currentUserData.etf?e.currentUserData.etf:ce}function ve(e){return e.currentUserData.bonds?e.currentUserData.bonds:ce}function Ce(e){return e.currentUserData.forex?e.currentUserData.forex:ce}function De(e){return e.currentUserData.portfolioCost?e.currentUserData.portfolioCost:ce}function ge(e){return e.currentUserData.yearProfit?e.currentUserData.yearProfit:ce}function Te(e){return e.currentUserData.weeklyPortfolioProfitAndCost?e.currentUserData.weeklyPortfolioProfitAndCost:ce}var Re=Object(x.a)((function(e){return{App:{margin:"0 auto"},mainContainer:{display:"flex",flexDirection:"column",backgroundColor:"#EEE"}}}));function Ee(){var e=Object(i.b)(),t=Object(i.c)(le),r=Object(i.c)(ne),a=Object(i.c)(se),n=Object(i.c)(ie),s=Object(i.c)(oe),o=Object(i.c)(ae),l=Object(i.c)(ue),u=Object(i.c)(Te),d=Object(c.useState)("rur"),j=Object(b.a)(d,2),f=j[0],O=j[1],p=Object(c.useState)((new Date).toISOString().slice(0,7)),x=Object(b.a)(p,2),k=x[0],y=x[1],m=Object(c.useState)({}),v=Object(b.a)(m,2),C=v[0],D=v[1];Object(c.useEffect)((function(){e({type:te})}),[]),Object(c.useEffect)((function(){Object.values(o).forEach((function(t){Object.values(t).forEach((function(r,c){var a={ticker:Object.keys(t)[c],quantity:Object.values(r.data)[Object.keys(r.data).length-1].quantity,usdCost:Object.values(r.data)[Object.keys(r.data).length-1].usdCost,usdTotal:Object.values(r.data)[Object.keys(r.data).length-1].usdTotal,rubCost:Object.values(r.data)[Object.keys(r.data).length-1].rubCost,rubTotal:Object.values(r.data)[Object.keys(r.data).length-1].rubTotal,eurCost:Object.values(r.data)[Object.keys(r.data).length-1].eurCost,eurTotal:Object.values(r.data)[Object.keys(r.data).length-1].eurTotal};e(de(Object.keys(t)[c],Object.keys(r.data)[Object.keys(r.data).length-1],Object.values(r.data)[Object.keys(r.data).length-1].quantity,Object.values(r.data)[Object.keys(r.data).length-1].currency,a))}))}))}),[]),Object(c.useEffect)((function(){e(I(o,new Date(k).getFullYear(),new Date(k).getMonth()))}),[k]),Object(c.useEffect)((function(){D(_(u,new Date(k).getFullYear(),new Date(k).getMonth()))}),[k]),Object(c.useEffect)((function(){e(function(e){return{type:Oe,allTickers:e}}(o))}),[e]),Object(c.useEffect)((function(){e(function(e,t){return{type:xe,allTickers:e,dates:t}}(o,l))}),[l]);var g=Re();return Object(h.jsxs)("div",{className:g.App+" "+g.mainContainer,children:[Object(h.jsxs)("select",{required:!0,onChange:function(e){O(e.target.value)},className:g.searchItem,children:[Object(h.jsx)("option",{value:"rur",children:"rur"}),Object(h.jsx)("option",{value:"usd",children:"usd"}),Object(h.jsx)("option",{value:"eur",children:"eur"})]}),Object(h.jsx)("input",{type:"month",onChange:function(e){y(e.target.value)},value:k}),Object(h.jsx)(H,{}),Object(h.jsx)("div",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(h.jsx)(J,{filteredTickers:t,type:"forex",currency:f,date:k}),Object(h.jsx)("div",{children:"\u0410\u043a\u0446\u0438\u0438"}),Object(h.jsx)(J,{filteredTickers:r,type:"stock",currency:f,date:k}),Object(h.jsx)("div",{children:"\u0424\u043e\u043d\u0434\u044b"}),Object(h.jsx)(J,{filteredTickers:a,type:"pif",currency:f,date:k}),Object(h.jsx)(J,{filteredTickers:n,type:"etf",currency:f,date:k}),Object(h.jsx)("div",{children:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438"}),Object(h.jsx)(J,{filteredTickers:s,type:"bonds",currency:f,date:k}),Object(h.jsx)("div",{children:"\u0421\u0443\u043c\u043c\u0430"}),Object(h.jsx)(Q,{weeklyResult:C,currency:f,date:k})]})}var Ne=a.a.memo(Ee);function Pe(e){var t=e.authenticated,r=e.children;return t?r:Object(h.jsx)(j.a,{to:{pathname:"".concat(re,"/login")}})}function Ae(e){var t=e.authenticated,r=e.children;return t?Object(h.jsx)(j.a,{to:"".concat(re,"/")}):r}var Ue=r(35);var we=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],n=Object(c.useState)(""),s=Object(b.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)(""),u=Object(b.a)(l,2),j=u[0],f=u[1],x=Object(c.useCallback)((function(e){o(e.target.value)}),[]),k=Object(c.useCallback)((function(e){a(e.target.value)}),[]),y=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(""),e.prev=2,e.next=5,Object(Ue.a)(N,r,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),f(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:y,children:[Object(h.jsx)("p",{children:"Fill in the form below to register new account."}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:k,value:r})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Password",name:"password",onChange:x,value:i,type:"password"})}),Object(h.jsxs)("div",{children:[j&&Object(h.jsx)("p",{children:j}),Object(h.jsx)("button",{type:"submit",children:"Login"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:["Already have an account? ",Object(h.jsx)(d.b,{to:"/gbCourse5Hw/login",children:"Sign in"})]})]})})};var Se=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],n=Object(c.useState)(""),s=Object(b.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)(""),u=Object(b.a)(l,2),j=u[0],f=u[1],x=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(""),e.prev=2,e.next=5,Object(Ue.c)(N,r,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),f(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("p",{children:"Fill in the form below to login to your account."}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:function(e){a(e.target.value)},value:r})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Password",name:"password",onChange:function(e){o(e.target.value)},value:i,type:"password"})}),Object(h.jsxs)("div",{children:[j&&Object(h.jsx)("p",{children:j}),Object(h.jsx)("button",{type:"submit",children:"Login"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:["Don't have an account? ",Object(h.jsx)(d.b,{to:"/gbCourse5Hw/signup",children:"Sign up"})]})]})})},Fe="PROFILE::SET_TICKERS_INFO",Ie=function(e,t){return{type:Fe,tickerTable:e,tickerType:t}},_e="PROFILE::SET_TICKERS_INFO_WITH_SAGA",Le=function(e,t){return{type:_e,tickers:e,tickerType:t}},qe=Object(x.a)((function(e){return{table:{maxWidth:"400px"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"},tickerTable:{display:"flex",flexDirection:"row"},tickerData:{display:"flex",flexDirection:"column",borderLeft:"1px solid black",flexGrow:"1"},tickerDataCell:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}},tickerHeaders:{display:"flex",flexDirection:"column",borderLeft:"1px solid black",flexGrow:"0"},tickerHeader:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}}}}));function Be(e){var t=Object(i.b)(),r=qe(),c=Object.keys(e.tickers||{});return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:r.table,children:c.map((function(c){return Object(h.jsxs)("div",{className:r.ticker,children:[Object(h.jsxs)("div",{className:r.tickerName,children:[Object(h.jsx)("p",{children:c}),Object(h.jsx)("p",{children:e.tickers[c].description}),Object(h.jsx)("button",{onClick:function(){return function(e,r){t(G(e,r))}(c,e.type)},children:"del"})]}),Object(h.jsxs)("div",{className:r.tickerHeaders,children:[Object(h.jsx)("p",{className:r.tickerHeader,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(h.jsxs)("p",{className:r.tickerHeader,children:["\u0426\u0435\u043d\u0430,  ","rur"===e.currency&&Object(h.jsx)("span",{children:"\u20bd"})||"usd"===e.currency&&Object(h.jsx)("span",{children:"$"})||"eur"===e.currency&&Object(h.jsx)("span",{children:"\u20ac"})]}),Object(h.jsxs)("p",{className:r.tickerHeader,children:["\u0421\u0443\u043c\u043c\u0430,  ","rur"===e.currency&&Object(h.jsx)("span",{children:"\u20bd"})||"usd"===e.currency&&Object(h.jsx)("span",{children:"$"})||"eur"===e.currency&&Object(h.jsx)("span",{children:"\u20ac"})]}),Object(h.jsxs)("p",{className:r.tickerHeader,children:["\u0413\u043e\u0434\u043e\u0432\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c, ","rur"===e.currency&&Object(h.jsx)("span",{children:"\u20bd"})||"usd"===e.currency&&Object(h.jsx)("span",{children:"$"})||"eur"===e.currency&&Object(h.jsx)("span",{children:"\u20ac"})]}),Object(h.jsx)("p",{className:r.tickerHeader,children:"\u0413\u043e\u0434\u043e\u0432\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c,  %"})]}),Object(h.jsxs)("div",{className:r.tickerData,children:[Object(h.jsx)("p",{className:r.tickerDataCell,children:e.tickers[c].quantity}),Object(h.jsx)("p",{className:r.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:(+e.tickers[c].RUBCost).toFixed(2)})||"usd"===e.currency&&Object(h.jsx)("span",{children:(+e.tickers[c].USDCost).toFixed(2)})||"eur"===e.currency&&Object(h.jsx)("span",{children:(+e.tickers[c].EURCost).toFixed(2)})}),Object(h.jsx)("p",{className:r.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:(+e.tickers[c].RUBTotal).toFixed(2)})||"usd"===e.currency&&Object(h.jsx)("span",{children:(+e.tickers[c].USDTotal).toFixed(2)})||"eur"===e.currency&&Object(h.jsx)("span",{children:(+e.tickers[c].EURTotal).toFixed(2)})}),Object(h.jsx)("p",{className:r.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[c]&&(+e.myProfit[c].sumProfitRubAbs).toFixed(2)})||"usd"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[c]&&(+e.myProfit[c].sumProfitUsdAbs).toFixed(2)})||"eur"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[c]&&(+e.myProfit[c].sumProfitEurAbs).toFixed(2)})}),Object(h.jsx)("p",{className:r.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[c]&&(+e.myProfit[c].sumProfitRubRel).toFixed(2)})||"usd"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[c]&&(+e.myProfit[c].sumProfitUsdRel).toFixed(2)})||"eur"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[c]&&(+e.myProfit[c].sumProfitEurRel).toFixed(2)})})]})]},c)}))})})}var He=a.a.memo(Be),$e="PROFILE::CALCULATE_PORTFOLIO_COST",Ge=function(e){return{type:$e,portfolioCost:e}},We="PROFILE::CALCULATE_PORTFOLIO_COST_WITH_SAGA",Ke=Object(x.a)((function(e){return{App:{margin:"0 auto"},mainContainer:{display:"flex",flexDirection:"column",backgroundColor:"#EEE"}}}));function Me(){var e=Object(c.useState)("rur"),t=Object(b.a)(e,2),r=t[0],a=t[1],n=Object(c.useState)({}),s=Object(b.a)(n,2),o=s[0],l=s[1],u=Object(i.c)(he),d=u.stock,j=u.bonds,f=u.forex,O=u.pif,p=u.etf,x=Ke(),k=Object(i.b)(),y=Object(i.c)(ke),m=Object(i.c)(ye),v=Object(i.c)(me),C=Object(i.c)(ve),D=Object(i.c)(Ce),g=Object(i.c)(De),T=Object(i.c)(Te),R=Object(i.c)(ge);return Object(c.useEffect)((function(){k(Le(d,"stock")),k(Le(O,"pif")),k(Le(p,"etf")),k(Le(j,"bonds")),k(Le(f,"forex"))}),[]),Object(c.useEffect)((function(){k(function(e,t,r,c,a){return{type:We,stock:e,pif:t,etf:r,bonds:c,forex:a}}(y,m,v,C,D))}),[y,m,v,C,D]),Object(c.useEffect)((function(){l(function(e,t){var r=_(e,t),c=0,a=1,n=0,s=1,i=0,o=1;return Object.values(r).forEach((function(e){c+=+e.portfolioUsdProfitAbs,a*=1+ +e.portfolioUsdProfitRel/100,n+=+e.portfolioRubProfitAbs,s*=1+ +e.portfolioRubProfitRel/100,i+=+e.portfolioEurProfitAbs,o*=1+ +e.portfolioEurProfitRel/100})),{yearProfitUsdAbs:c,yearProfitUsdRel:a=100*(a-1),yearProfitRubAbs:n,yearProfitRubRel:s=100*(s-1),yearProfitEurAbs:i,yearProfitEurRel:o=100*(o-1)}}(T,2021))}),[T]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("select",{required:!0,onChange:function(e){a(e.target.value)},className:x.searchItem,children:[Object(h.jsx)("option",{value:"rur",children:"rur"}),Object(h.jsx)("option",{value:"usd",children:"usd"}),Object(h.jsx)("option",{value:"eur",children:"eur"})]}),Object(h.jsx)("div",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(h.jsx)(He,{tickers:D,myProfit:R.forex,type:"forex",currency:r}),Object(h.jsx)("div",{children:"\u0410\u043a\u0446\u0438\u0438"}),Object(h.jsx)(He,{tickers:y,myProfit:R.stock,type:"stock",currency:r}),Object(h.jsx)("div",{children:"\u0424\u043e\u043d\u0434\u044b"}),Object(h.jsx)(He,{tickers:m,myProfit:R.pif,type:"pif",currency:r}),Object(h.jsx)(He,{tickers:v,myProfit:R.etf,type:"etf",currency:r}),Object(h.jsx)("div",{children:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438"}),Object(h.jsx)(He,{tickers:C,myProfit:R.bonds,type:"bonds",currency:r}),Object(h.jsx)("h1",{children:N.currentUser?N.currentUser.email:""}),Object(h.jsxs)("p",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044f, \u20bd ",Object(h.jsx)("b",{children:g?(+g.RUBGrandTotal).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0430\u0431\u0441, \u20bd ",Object(h.jsx)("b",{children:o?(+o.yearProfitRubAbs).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c %, \u20bd ",Object(h.jsx)("b",{children:o?(+o.yearProfitRubRel).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044f, $ ",Object(h.jsx)("b",{children:g?(+g.USDGrandTotal).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0430\u0431\u0441, $; ",Object(h.jsx)("b",{children:o?(+o.yearProfitUsdAbs).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c %, $; ",Object(h.jsx)("b",{children:o?(+o.yearProfitUsdRel).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044f, \u20ac ",Object(h.jsx)("b",{children:g?(+g.EURGrandTotal).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0430\u0431\u0441, \u20ac ",Object(h.jsx)("b",{children:o?(+o.yearProfitEurAbs).toFixed(2):""})]}),Object(h.jsxs)("p",{children:["\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c %, \u20ac ",Object(h.jsx)("b",{children:o?(+o.yearProfitEurRel).toFixed(2):""})]})]})}var Ye=a.a.memo(Me);var ze=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),r=t[0],a=t[1];Object(c.useEffect)((function(){return Object(Ue.b)(N,(function(e){a(!!e)}))}),[]);var n=Object(c.useCallback)((function(){Object(Ue.d)(N).then((function(){})).catch((function(e){}))}),[]);return Object(h.jsxs)(d.a,{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(d.b,{to:"".concat(re,"/"),children:"Main"}),Object(h.jsx)(d.b,{to:"".concat(re,"/profile"),children:"Profile"}),Object(h.jsx)(d.b,{to:"".concat(re,"/signup"),children:"Registration"}),Object(h.jsx)(d.b,{to:"".concat(re,"/login"),children:"Login"}),Object(h.jsx)("button",{onClick:n,children:"Sign Out"})]}),Object(h.jsxs)(j.d,{children:[Object(h.jsx)(j.b,{authenticated:r,exact:!0,path:"".concat(re,"/"),element:Object(h.jsx)(Pe,{authenticated:r,children:Object(h.jsx)(Ne,{})})}),Object(h.jsx)(j.b,{authenticated:r,exact:!0,path:"".concat(re,"/profile"),element:Object(h.jsx)(Pe,{authenticated:r,children:Object(h.jsx)(Ye,{})})}),Object(h.jsx)(j.b,{authenticated:r,path:"".concat(re,"/signup"),element:Object(h.jsx)(Ae,{authenticated:r,children:Object(h.jsx)(we,{})})}),Object(h.jsx)(j.b,{authenticated:r,path:"".concat(re,"/login"),element:Object(h.jsx)(Ae,{authenticated:r,children:Object(h.jsx)(Se,{})})}),Object(h.jsx)(j.b,{element:Object(h.jsx)("h4",{children:"404"})})]})]})},Je=r(31),Xe=r(65),Ve=r(54),Qe=r(63),Ze=r.n(Qe),et={userData:{},currentUserData:{},filteredTickers:{}},tt=r(33),rt=r(21),ct=O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(rt.a)(F,t.stock,t.pif,t.etf,t.bonds,t.forex);case 3:return r=e.sent,e.next=6,Object(rt.b)(Ge(r));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),at=O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(rt.a)(L,t.allTickers);case 3:return r=e.sent,e.next=6,Object(rt.b)(fe(r));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),nt=O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(rt.a)(q,t.allTickers,t.dates);case 3:return r=e.sent,e.next=6,Object(rt.b)({type:pe,weeklyPortfolioProfitAndCost:r});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),st=O.a.mark((function e(t){var r,c,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.d)(P,"".concat(N.currentUser.uid,"/tickers/").concat(t.tickerType,"/").concat(t.ticker,"/data/").concat(t.date));case 3:return r=e.sent,e.next=6,Object(R.f)(r,{ticker:t.ticker,description:t.description,quantity:t.quantity,usdCost:t.usdCost,usdTotal:t.usdTotal,rubCost:t.rubCost,rubTotal:t.rubTotal,eurCost:t.eurCost,eurTotal:t.eurTotal,profitUsdAbs:t.profitUsdAbs,profitUsdRel:t.profitUsdRel,profitRubAbs:t.profitRubAbs,profitRubRel:t.profitRubRel,profitEurAbs:t.profitEurAbs,profitEurRel:t.profitEurRel,currency:t.currency});case 6:return e.next=8,Object(R.d)(P,"".concat(N.currentUser.uid,"/portfolio/").concat(t.tickerType,"/").concat(t.ticker,"/"));case 8:return c=e.sent,e.next=11,Object(R.f)(c,{ticker:t.ticker,quantity:t.quantity,currency:t.currency,description:t.description});case 11:return e.next=13,Object(R.d)(P,"".concat(N.currentUser.uid,"/dates/").concat(t.date));case 13:return a=e.sent,e.next=16,Object(R.f)(a,"yes");case 16:return e.next=18,{ticker:t.ticker,quantity:t.quantity,usdCost:t.usdCost,usdTotal:t.usdTotal,rubCost:t.rubCost,rubTotal:t.rubTotal,eurCost:t.eurCost,eurTotal:t.eurTotal};case 18:return n=e.sent,e.next=21,Object(rt.b)(de(t.ticker,t.date,t.quantity,t.currency,n));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case 27:case"end":return e.stop()}}),e,null,[[0,23]])})),it=O.a.mark((function e(t){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.d)(P,"".concat(N.currentUser.uid,"/portfolio/").concat(t.marketType,"/").concat(t.ticker));case 3:return r=e.sent,e.next=6,Object(R.e)(r);case 6:return e.next=8,Object(R.d)(P,"".concat(N.currentUser.uid,"/tickers/").concat(t.marketType,"/").concat(t.ticker));case 8:return c=e.sent,e.next=11,Object(R.e)(c);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case 17:case"end":return e.stop()}}),e,null,[[0,13]])})),ot=O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(+new Date(t.date)<+new Date-6912e5)){e.next=7;break}return e.next=4,Object(rt.a)(w,t.ticker,new Date(+new Date(t.date)+6048e5),t.quantity,t.currency,t.prevData,!0,!1);case 4:return r=e.sent,e.next=7,Object(rt.b)(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})),lt=O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(rt.a)(S,t.tickers,t.tickerType);case 3:return r=e.sent,e.next=6,Object(rt.b)(Ie(r,t.tickerType));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),ut=O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.d)(P,"".concat(N.currentUser.uid));case 3:return t=e.sent,e.next=6,Object(R.c)(t,(function(e){var t=e.val();Tt.dispatch(ee(t||{}))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),bt=O.a.mark(dt);function dt(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.b)(te,ut);case 2:return e.next=4,Object(tt.a)(D,st);case 4:return e.next=6,Object(tt.b)($,it);case 6:return e.next=8,Object(tt.a)(be,ot);case 8:return e.next=10,Object(tt.a)(_e,lt);case 10:return e.next=12,Object(tt.b)(We,ct);case 12:return e.next=14,Object(tt.b)(Oe,at);case 14:return e.next=16,Object(tt.b)(xe,nt);case 16:case"end":return e.stop()}}),bt)}var jt=dt,ft=et.userData;var Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;return t.type===Z?Object(v.a)({},t.userData):e},pt=et.currentUserData;var xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t.tickerType,t.tickerTable));case $e:return Object(v.a)(Object(v.a)({},e),{},{portfolioCost:t.portfolioCost});case je:return Object(v.a)(Object(v.a)({},e),{},{yearProfit:t.yearProfit});case pe:return Object(v.a)(Object(v.a)({},e),{},{weeklyPortfolioProfitAndCost:t.weeklyPortfolioProfitAndCost});default:return e}},ht=et.filteredTickers;var kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;return t.type===C?Object(v.a)({},t.filteredTickers):e},yt=Object(Je.b)({userData:Ot,currentUserData:xt,filteredTickers:kt}),mt={onError:function(e,t){console.log("qqq"+e),console.log(t)}},vt=Object(Xe.a)(mt),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Je.c,Dt={key:"root",storage:Ze.a},gt=Object(Ve.a)(Dt,yt),Tt=Object(Je.d)(gt,et,Ct(Object(Je.a)(vt)));vt.run(jt);var Rt=Object(Ve.b)(Tt),Et=Object(l.a)({palette:{primary:{main:"#708238"},secondary:{main:"#0098FF"}}});var Nt=function(){return Object(h.jsx)(i.a,{store:Tt,children:Object(h.jsx)(o.a,{persistor:Rt,children:Object(h.jsx)(u.a,{theme:Et,children:Object(h.jsx)(ze,{})})})})},Pt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,97)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),c(e),a(e),n(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Nt,{})}),document.getElementById("root")),Pt()}},[[84,1,2]]]);
//# sourceMappingURL=main.ad7a80bf.chunk.js.map