(this.webpackJsonpinvestor=this.webpackJsonpinvestor||[]).push([[0],{79:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var r=c(6),n=c.n(r),a=c(47),s=c.n(a),i=(c(79),c(16)),o=c(63),u=c(71),l=c(100),b=c(13),j=c(28),d=c(18),O=c(0),f=c.n(O),p=c(4),x=c(101),h=c(2),k=Object(x.a)((function(e){return{searchListContainer:{maxWidth:"500px"},searchList:{listStyle:"none",padding:"0",margin:"0"},addButton:{border:"none","&:hover":{color:"#fff",backgroundColor:"#222"}}}}));var y=function(e){var t=k();return Object(h.jsx)("div",{className:t.searchListContainer,children:Object(h.jsx)("ul",{className:t.searchList,children:e.searchResult.map((function(c){return Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(t){return e.submitTicker(t,c.ticker)},className:t.addButton,children:c.descr})},c.ticker+c.classcode)}))})})},m=c(3),v=c(14),C="TICKERS::ADD_FILTERED_TICKERS",g="TICKERS::ADD_TICKER_WITH_SAGA",D=function(e,t,c,r,n,a,s,i,o,u,l,b,j,d){return{type:g,ticker:e,description:t,date:c,quantity:r,cost:n,total:a,roubleCost:s,roubleTotal:i,currency:o,tickerType:u,profitCurrencyAbs:l,profitCurrencyRel:b,profitRubAbs:j,profitRubRel:d}},T=function(e,t,c){return+t&&+c?"https://api.bcs.ru/udfdatafeed/v1/history?symbol=".concat(e,"&resolution=d&from=").concat(Math.round(+new Date(t)/1e3),"&to=").concat(Math.round(+new Date(c)/1e3)):"https://api.bcs.ru/udfdatafeed/v1/history?symbol=".concat(e,"&resolution=d&from=").concat(Math.round(+new Date/1e3),"&to=").concat(Math.round(+new Date/1e3))},R=function(e,t,c,r,n){for(var a=+new Date(t);5!==new Date(a).getDay();)a+=864e5;var s=T(e,a,a+828e5),i=function(e){return"https://api.bcs.ru/udfdatafeed/v1/symbols?symbol=".concat(e)}(e),o="";"rur"===r?o="":"usd"===r?o="RUR":"eur"===r&&(o="EUR_RUB");var u=T(o,a,a+828e5),l=1;return fetch(u).then((function(e){return e.json()})).then((function(t){return l="unknown_symbol"===t.errmsg?1:t.c[0],fetch(s).then((function(e){return e.json()})).then((function(t){if("no_data"===t.s)throw new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445");return fetch(i).then((function(e){return e.json()})).then((function(s){if(void 0===n.ticker){var i="bonds"!==s.type?t.c[0]:10*t.c[0],o="bonds"!==s.type?t.c[0]*c:t.c[0]*c*10,u="bonds"!==s.type?t.c[0]*l:t.c[0]*l*10,b="bonds"!==s.type?t.c[0]*l*c:t.c[0]*l*c*10;if(isNaN(t.c[0]))throw new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445");return D(e,s.description,new Date(a).toISOString().slice(0,10),c,i.toFixed(2),o.toFixed(2),u.toFixed(2),b.toFixed(2),r,s.type,0,0,0,0)}var j="bonds"!==s.type?t.c[0]:10*t.c[0],d="bonds"!==s.type?t.c[0]*c:t.c[0]*c*10,O="bonds"!==s.type?t.c[0]*l:t.c[0]*l*10,f="bonds"!==s.type?t.c[0]*l*c:t.c[0]*l*c*10,p=(j-n.cost)*n.quantity,x=(j-n.cost)/n.cost*100,h=(O-n.roubleCost)*n.quantity,k=(O-n.roubleCost)/n.roubleCost*100;if(isNaN(t.c[0]))throw new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445");return D(e,s.description,new Date(a).toISOString().slice(0,10),c,j.toFixed(2),d.toFixed(2),O.toFixed(2),f.toFixed(2),r,s.type,p.toFixed(2),x.toFixed(2),h.toFixed(2),k.toFixed(2))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},N=function(){var e=Object(p.a)(f.a.mark((function e(t,c){var r,n,a,s,i,o,u,l,b,j,d,O,p,x,h,k,y,C,g;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T("RUR",null,null),n=T("EUR_RUB",null,null),e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,i=s.c[0],e.next=11,fetch(n);case 11:return o=e.sent,e.next=14,o.json();case 14:u=e.sent,l=u.c[0],h={},e.t0=f.a.keys(t);case 18:if((e.t1=e.t0()).done){e.next=32;break}return k=e.t1.value,y=T(k,null,null),e.next=23,fetch(y);case 23:return C=e.sent,e.next=26,C.json();case 26:g=e.sent,"rur"===t[k].currency?(b=g.c[0],j=b*t[k].quantity,O=(d=b/i)*t[k].quantity,x=(p=b/l)*t[k].quantity):"usd"===t[k].currency?(d=g.c[0],O=d*t[k].quantity,j=(b=d*i)*t[k].quantity,x=(p=b/l)*t[k].quantity):"eur"===t[k].currency&&(p=g.c[0],x=p*t[k].quantity,j=(b=p*l)*t[k].quantity,O=(d=b/i)*t[k].quantity),"bonds"===c&&(b*=10,j*=10,d*=10,O*=10,p*=10,x*=10),h=Object(v.a)(Object(v.a)({},h),{},Object(m.a)({},k,{quantity:t[k].quantity,RUBCost:b.toFixed(2),RUBTotal:j.toFixed(2),USDCost:d.toFixed(2),USDTotal:O.toFixed(2),EURCost:p.toFixed(2),EURTotal:x.toFixed(2),currency:t[k].currency,description:t[k].description})),e.next=18;break;case 32:return e.abrupt("return",h);case 33:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),w=function(){for(var e=0,t=0,c=0,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return n.forEach((function(r){Object.values(r).forEach((function(r){e+=+r.RUBTotal,t+=+r.USDTotal,c+=+r.EURTotal}))})),{RUBGrandTotal:e.toFixed(1),USDGrandTotal:t.toFixed(1),EURGrandTotal:c.toFixed(1)}},E=function(e,t,c){var r={};return Object.keys(e).forEach((function(n){var a=Object.keys(e[n]);r=Object(v.a)(Object(v.a)({},r),{},Object(m.a)({},n,{})),a.forEach((function(a){var s=Object.keys(e[n][a].data);r=Object(v.a)(Object(v.a)({},r),{},Object(m.a)({},n,Object(v.a)(Object(v.a)({},r[n]),{},Object(m.a)({},a,{data:{}})))),s.filter((function(e){return new Date(e).getMonth()===c&&new Date(e).getFullYear()===t})).forEach((function(t){r=Object(v.a)(Object(v.a)({},r),{},Object(m.a)({},n,Object(v.a)(Object(v.a)({},r[n]),{},Object(m.a)({},a,{data:Object(v.a)(Object(v.a)({},r[n][a].data),{},Object(m.a)({},t,e[n][a].data[t]))}))))}))}))})),{type:C,filteredTickers:r}},S=function(e){var t={};return Object.values(e).forEach((function(c,r){var n=Object.keys(c);t=Object(v.a)(Object(v.a)({},t),{},Object(m.a)({},Object.keys(e)[r],{})),Object.values(c).forEach((function(c,a){var s=0,i=1,o=0,u=1;Object.values(c.data).forEach((function(e){s+=+e.profitCurrencyAbs,i*=1+e.profitCurrencyRel/100,o+=+e.profitRubAbs,u*=1+e.profitRubRel/100})),i=100*(i-1),u=100*(u-1),t=Object(v.a)(Object(v.a)({},t),{},Object(m.a)({},Object.keys(e)[r],Object(v.a)(Object(v.a)({},t[Object.keys(e)[r]]),{},Object(m.a)({},n[a],{sumProfitCurrencyAbs:s.toFixed(2),sumProfitCurrencyRel:i.toFixed(2),sumProfitRubAbs:o.toFixed(2),sumProfitRubRel:u.toFixed(2)}))))}))})),t},U=Object(x.a)((function(e){return{form:{maxWidth:"400px",border:"1px solid black",borderRadius:"10px",display:"flex",flexDirection:"column",margin:"10px"},formSubmit:{display:"block"},searchItem:{margin:"5px 10px",marginBottom:"5px"}}}));var A=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(b.a)(a,2),o=s[0],u=s[1],l=Object(r.useState)(""),j=Object(b.a)(l,2),d=j[0],O=j[1],x=Object(r.useState)(""),k=Object(b.a)(x,2),m=k[0],v=k[1],C=Object(r.useState)([]),g=Object(b.a)(C,2),D=g[0],T=g[1],N=Object(r.useState)("rur"),w=Object(b.a)(N,2),E=w[0],S=w[1],A=Object(i.b)(),I=function(){var e=Object(p.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T([]),e.next=4,R(c,d,o,E,{});case 4:(r=e.sent)&&A(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=U();return Object(h.jsxs)("form",{action:"",onSubmit:I,className:F.form,label:"Ticker",children:[Object(h.jsx)("input",{type:"text",disabled:!0,className:F.searchItem,value:c,onChange:function(e){n(e.target.value)},required:!0}),Object(h.jsxs)("select",{required:!0,onChange:function(e){S(e.target.value)},className:F.searchItem,children:[Object(h.jsx)("option",{value:"rur",children:"rur"}),Object(h.jsx)("option",{value:"usd",children:"usd"}),Object(h.jsx)("option",{value:"eur",children:"eur"})]}),Object(h.jsx)("input",{type:"number",className:F.searchItem,value:o,onChange:function(e){u(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"date",className:F.searchItem,value:d,onChange:function(e){O(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"submit",className:F.formSubmit+" "+F.searchItem,value:"Add"}),Object(h.jsx)("input",{type:"text",className:F.searchItem,value:m,onChange:function(e){v(e.target.value);var t,c=(t=e.target.value,"https://api.bcs.ru/udfdatafeed/v1/search?query=".concat(t,"&limit=10&fulldescription=on"));fetch(c).then((function(e){return e.json()})).then((function(e){var t=[];e.forEach((function(e,c){t.push({ticker:e.symbol,descr:e.description,classcode:e.classcode})})),T(t)})).catch((function(e){console.log(e)}))}}),Object(h.jsx)(y,{className:F.searchItem,searchResult:D,submitTicker:function(e,t){e.preventDefault(),n(t)}})]})},I="TICKERS::DEL_TICKER_WITH_SAGA",F=function(e,t){return{type:I,ticker:e,marketType:t}},_=Object(x.a)((function(e){return{table:{maxWidth:"100%"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px",overflow:"auto"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"},tickerTable:{display:"flex",flexDirection:"row"},tickerDate:{width:"100px",display:"flex",flexDirection:"column",borderLeft:"1px solid black","&:last-child":{borderRight:"1px solid black"}},tickerHeader:{width:"170px",display:"flex",flexDirection:"column",borderLeft:"1px solid black","&:last-child":{borderRight:"1px solid black"}},tickerDateCell:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}},green:{backgroundColor:"\t#66CC66"},red:{backgroundColor:"#FF6666"}}}));var P=function(e){var t=Object.keys(e.ticker.data)[Object.keys(e.ticker.data).length-1],c=Object(r.useState)(0),n=Object(b.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(1),o=Object(b.a)(i,2),u=o[0],l=o[1],j=Object(r.useState)(0),d=Object(b.a)(j,2),O=d[0],f=d[1],p=Object(r.useState)(1),x=Object(b.a)(p,2),k=x[0],y=x[1];Object(r.useEffect)((function(){var t=0,c=1,r=0,n=1;Object.values(e.ticker.data).forEach((function(e){t+=+e.profitCurrencyAbs,c*=1+e.profitCurrencyRel/100,r+=+e.profitRubAbs,n*=1+e.profitRubRel/100})),c=100*(c-1),n=100*(n-1),s(t),l(c),f(r),y(n)}),[]);var m=_();return Object(h.jsxs)("div",{className:m.tickerTable,children:[Object(h.jsxs)("div",{className:m.tickerHeader,children:[Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0414\u0430\u0442\u0430"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),"rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0420"}):"","rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0420"}):"",Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c, \u0430\u0431\u0441"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c, %"}),"rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 \u0420, \u0430\u0431\u0441"}):"","rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432 \u0420, %"}):""]}),Object.values(e.ticker.data).map((function(t,c){return Object(h.jsxs)("div",{className:m.tickerDate,children:[Object(h.jsx)("p",{className:m.tickerDateCell,children:Object.keys(e.ticker.data)[c]}),Object(h.jsx)("p",{className:m.tickerDateCell,children:t.quantity}),Object(h.jsx)("p",{className:m.tickerDateCell,children:t.cost}),Object(h.jsx)("p",{className:m.tickerDateCell,children:t.total}),"rur"!==t.currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:t.roubleCost}):"","rur"!==t.currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:t.roubleTotal}):"",Object(h.jsx)("p",{className:m.tickerDateCell+" "+(t.profitCurrencyAbs>=0?m.green:m.red),children:t.profitCurrencyAbs+" "+t.currency}),Object(h.jsx)("p",{className:m.tickerDateCell+" "+(t.profitCurrencyAbs>=0?m.green:m.red),children:t.profitCurrencyRel+" %"}),"rur"!==t.currency?Object(h.jsx)("p",{className:m.tickerDateCell+" "+(t.profitRubAbs>=0?m.green:m.red),children:t.profitRubAbs+" \u0420"}):"","rur"!==t.currency?Object(h.jsx)("p",{className:m.tickerDateCell+" "+(t.profitRubAbs>=0?m.green:m.red),children:t.profitRubRel+" %"}):""]},t.ticker+Object.keys(e.ticker.data)[c])})),Object(h.jsxs)("div",{className:m.tickerHeader,children:[Object(h.jsx)("p",{className:m.tickerDateCell,children:"-"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"-"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"-"}),Object(h.jsx)("p",{className:m.tickerDateCell,children:"-"}),"rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:"-"}):"","rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell,children:"-"}):"",Object(h.jsx)("p",{className:m.tickerDateCell+" "+(a>=0?m.green:m.red),children:a.toFixed(2)+" "+e.ticker.data[t].currency}),Object(h.jsx)("p",{className:m.tickerDateCell+" "+(a>=0?m.green:m.red),children:u.toFixed(2)+" %"}),"rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell+" "+(O>=0?m.green:m.red),children:O.toFixed(2)+" \u0420"}):"","rur"!==e.ticker.data[t].currency?Object(h.jsx)("p",{className:m.tickerDateCell+" "+(O>=0?m.green:m.red),children:k.toFixed(2)+" %"}):""]})]})},q=Object(x.a)((function(e){return{table:{maxWidth:"100%"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px",overflow:"auto"},description:{margin:"5px"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"}}}));var L=function(e){var t=Object(i.b)(),c=q(),r=Object.values(e.filteredTickers||{}),n=Object.keys(e.filteredTickers||{});return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:c.table,children:r.map((function(r,a){return 0!==Object.keys(r.data).length&&Object(h.jsxs)("div",{className:c.ticker,children:[Object(h.jsxs)("div",{className:c.tickerName,children:[Object(h.jsx)("p",{className:c.description,children:n[a]}),Object(h.jsx)("p",{className:c.description,children:r.data[Object.keys(r.data)[Object.keys(r.data).length-1]].description}),Object(h.jsx)("p",{className:c.description,children:r.data[Object.keys(r.data)[Object.keys(r.data).length-1]].currency}),Object(h.jsx)("button",{onClick:function(){return function(e,c){t(F(e,c))}(n[a],e.type)},children:"del"})]}),Object(h.jsx)(P,{ticker:r})]},n[a])}))})})},B="USER::INIT_USER_DATA",H=function(e){return{type:B,userData:e}},G="USER::INIT_USER_DATA_WITH_SAGA";function W(e){return e.userData.tickers?e.userData.tickers:{}}function K(e){return e.filteredTickers.stock?e.filteredTickers.stock:{}}function M(e){return e.filteredTickers.pif?e.filteredTickers.pif:{}}function Y(e){return e.filteredTickers.etf?e.filteredTickers.etf:{}}function $(e){return e.filteredTickers.bonds?e.filteredTickers.bonds:{}}function z(e){return e.filteredTickers.forex?e.filteredTickers.forex:{}}var J="TICKERS::AUTOCOMPLETE_TICKER_WITH_SAGA",X=function(e,t,c,r,n){return{type:J,ticker:e,date:t,quantity:c,currency:r,prevData:n}},V="PROFILE::CALCULATE_YEAR_PROFIT",Q=function(e){return{type:V,yearProfit:e}},Z="PROFILE::CALCULATE_YEAR_PROFIT_WITH_SAGA",ee=Object(x.a)((function(e){return{App:{margin:"0 auto"},mainContainer:{display:"flex",flexDirection:"column",backgroundColor:"#EEE"}}}));var te=function(){var e=Object(i.b)(),t=Object(i.c)(z),c=Object(i.c)(K),n=Object(i.c)(M),a=Object(i.c)(Y),s=Object(i.c)($),o=Object(i.c)(W),u=Object(r.useState)((new Date).toISOString().slice(0,7)),l=Object(b.a)(u,2),j=l[0],d=l[1];Object(r.useEffect)((function(){e({type:G})}),[]),Object(r.useEffect)((function(){Object.values(o).forEach((function(t){Object.values(t).forEach((function(c,r){var n={ticker:Object.keys(t)[r],quantity:Object.values(c.data)[Object.keys(c.data).length-1].quantity,cost:Object.values(c.data)[Object.keys(c.data).length-1].cost,total:Object.values(c.data)[Object.keys(c.data).length-1].total,roubleCost:Object.values(c.data)[Object.keys(c.data).length-1].roubleCost,roubleTotal:Object.values(c.data)[Object.keys(c.data).length-1].roubleTotal};e(X(Object.keys(t)[r],Object.keys(c.data)[Object.keys(c.data).length-1],Object.values(c.data)[Object.keys(c.data).length-1].quantity,Object.values(c.data)[Object.keys(c.data).length-1].currency),n)}))}))}),[]),Object(r.useEffect)((function(){e(E(o,new Date(j).getFullYear(),new Date(j).getMonth()))}),[j]),Object(r.useEffect)((function(){e(function(e){return{type:Z,allTickers:e}}(o))}),[]);var O=ee();return Object(h.jsxs)("div",{className:O.App+" "+O.mainContainer,children:[Object(h.jsx)("input",{type:"month",onChange:function(e){d(e.target.value)},value:j}),Object(h.jsx)(A,{}),Object(h.jsx)("div",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(h.jsx)(L,{filteredTickers:t,type:"forex"}),Object(h.jsx)("div",{children:"\u0410\u043a\u0446\u0438\u0438"}),Object(h.jsx)(L,{filteredTickers:c,type:"stock"}),Object(h.jsx)("div",{children:"\u0424\u043e\u043d\u0434\u044b"}),Object(h.jsx)(L,{filteredTickers:n,type:"pif"}),Object(h.jsx)(L,{filteredTickers:a,type:"etf"}),Object(h.jsx)("div",{children:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438"}),Object(h.jsx)(L,{filteredTickers:s,type:"bonds"})]})},ce=c(56),re="",ne=["authenticated"];function ae(e){var t=e.authenticated,c=Object(ce.a)(e,ne);return t?Object(h.jsx)(d.b,Object(v.a)({},c)):Object(h.jsx)(d.a,{to:{pathname:"".concat(re,"/login")}})}var se=["authenticated"];function ie(e){var t=e.authenticated,c=Object(ce.a)(e,se);return t?Object(h.jsx)(d.a,{to:"".concat(re,"/")}):Object(h.jsx)(d.b,Object(v.a)({},c))}var oe=c(50),ue=c(24),le=c(69),be=(Object(le.a)({apiKey:"AIzaSyAS0Sazo-Bbg-TouSxSrenj5hTYa5bnjN8",authDomain:"investor-8a0c2.firebaseapp.com",projectId:"investor-8a0c2",storageBucket:"investor-8a0c2.appspot.com",messagingSenderId:"949350207446",appId:"1:949350207446:web:c6cf85c9033c3ed2491e77"}),Object(oe.b)()),je=Object(ue.a)(),de=c(39);var Oe=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(b.a)(u,2),d=l[0],O=l[1],x=Object(r.useCallback)((function(e){o(e.target.value)}),[]),k=Object(r.useCallback)((function(e){n(e.target.value)}),[]),y=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(""),e.prev=2,e.next=5,Object(de.a)(be,c,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),O(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:y,children:[Object(h.jsx)("p",{children:"Fill in the form below to register new account."}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:k,value:c})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Password",name:"password",onChange:x,value:i,type:"password"})}),Object(h.jsxs)("div",{children:[d&&Object(h.jsx)("p",{children:d}),Object(h.jsx)("button",{type:"submit",children:"Login"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:["Already have an account? ",Object(h.jsx)(j.b,{to:"/gbCourse5Hw/login",children:"Sign in"})]})]})})};var fe=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(b.a)(u,2),d=l[0],O=l[1],x=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(""),e.prev=2,e.next=5,Object(de.c)(be,c,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),O(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("p",{children:"Fill in the form below to login to your account."}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:function(e){n(e.target.value)},value:c})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{placeholder:"Password",name:"password",onChange:function(e){o(e.target.value)},value:i,type:"password"})}),Object(h.jsxs)("div",{children:[d&&Object(h.jsx)("p",{children:d}),Object(h.jsx)("button",{type:"submit",children:"Login"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:["Don't have an account? ",Object(h.jsx)(j.b,{to:"/gbCourse5Hw/signup",children:"Sign up"})]})]})})};function pe(e){return e.userData.portfolio?e.userData.portfolio:{}}function xe(e){return e.currentUserData.stock?e.currentUserData.stock:{}}function he(e){return e.currentUserData.pif?e.currentUserData.pif:{}}function ke(e){return e.currentUserData.etf?e.currentUserData.etf:{}}function ye(e){return e.currentUserData.bonds?e.currentUserData.bonds:{}}function me(e){return e.currentUserData.forex?e.currentUserData.forex:{}}function ve(e){return e.currentUserData.portfolioCost?e.currentUserData.portfolioCost:{}}function Ce(e){return e.currentUserData.yearProfit?e.currentUserData.yearProfit:{}}var ge="PROFILE::SET_TICKERS_INFO",De=function(e,t){return{type:ge,tickerTable:e,tickerType:t}},Te="PROFILE::SET_TICKERS_INFO_WITH_SAGA",Re=function(e,t){return{type:Te,tickers:e,tickerType:t}},Ne=Object(x.a)((function(e){return{table:{maxWidth:"400px"},ticker:{display:"flex",flexDirection:"row",border:"1px solid black",margin:"10px"},tickerName:{display:"flex",flexDirection:"column",width:"110px",alignItems:"center",justifyContent:"space-around",padding:"5px",flexShrink:"0"},tickerTable:{display:"flex",flexDirection:"row"},tickerData:{display:"flex",flexDirection:"column",borderLeft:"1px solid black",flexGrow:"1"},tickerDataCell:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}},tickerHeaders:{display:"flex",flexDirection:"column",borderLeft:"1px solid black",flexGrow:"0"},tickerHeader:{borderBottom:"1px solid black",margin:"0",padding:"5px","&:last-child":{borderBottom:"none"}}}}));var we=function(e){var t=Object(i.b)(),c=Ne(),r=Object.keys(e.tickers||{});return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:c.table,children:r.map((function(r){return Object(h.jsxs)("div",{className:c.ticker,children:[Object(h.jsxs)("div",{className:c.tickerName,children:[Object(h.jsx)("p",{children:r}),Object(h.jsx)("p",{children:e.tickers[r].description}),Object(h.jsx)("button",{onClick:function(){return function(e,c){t(F(e,c))}(r,e.type)},children:"del"})]}),Object(h.jsxs)("div",{className:c.tickerHeaders,children:[Object(h.jsx)("p",{className:c.tickerHeader,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(h.jsxs)("p",{className:c.tickerHeader,children:["\u0426\u0435\u043d\u0430,  ","rur"===e.currency&&Object(h.jsx)("span",{children:"\u20bd"})||"usd"===e.currency&&Object(h.jsx)("span",{children:"$"})||"eur"===e.currency&&Object(h.jsx)("span",{children:"\u20ac"})]}),Object(h.jsxs)("p",{className:c.tickerHeader,children:["\u0421\u0443\u043c\u043c\u0430,  ","rur"===e.currency&&Object(h.jsx)("span",{children:"\u20bd"})||"usd"===e.currency&&Object(h.jsx)("span",{children:"$"})||"eur"===e.currency&&Object(h.jsx)("span",{children:"\u20ac"})]}),Object(h.jsxs)("p",{className:c.tickerHeader,children:["\u0413\u043e\u0434\u043e\u0432\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c, ","rur"===e.currency&&Object(h.jsx)("span",{children:"\u20bd"})||"usd"===e.currency&&Object(h.jsx)("span",{children:"$"})||"eur"===e.currency&&Object(h.jsx)("span",{children:"\u20ac"})]}),Object(h.jsx)("p",{className:c.tickerHeader,children:"\u0413\u043e\u0434\u043e\u0432\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c,  %"})]}),Object(h.jsxs)("div",{className:c.tickerData,children:[Object(h.jsx)("p",{className:c.tickerDataCell,children:e.tickers[r].quantity}),Object(h.jsx)("p",{className:c.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:e.tickers[r].RUBCost})||"usd"===e.currency&&Object(h.jsx)("span",{children:e.tickers[r].USDCost})||"eur"===e.currency&&Object(h.jsx)("span",{children:e.tickers[r].EURCost})}),Object(h.jsx)("p",{className:c.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:e.tickers[r].RUBTotal})||"usd"===e.currency&&Object(h.jsx)("span",{children:e.tickers[r].USDTotal})||"eur"===e.currency&&Object(h.jsx)("span",{children:e.tickers[r].EURTotal})}),Object(h.jsx)("p",{className:c.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[r].sumProfitRubAbs})||("usd"===e.currency||"eur"===e.currency)&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[r].sumProfitCurrencyAbs})}),Object(h.jsx)("p",{className:c.tickerDataCell,children:"rur"===e.currency&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[r].sumProfitRubRel})||("usd"===e.currency||"eur"===e.currency)&&Object(h.jsx)("span",{children:e.myProfit&&e.myProfit[r].sumProfitCurrencyRel})})]})]},r)}))})})},Ee="PROFILE::CALCULATE_PORTFOLIO_COST",Se=function(e){return{type:Ee,portfolioCost:e}},Ue="PROFILE::CALCULATE_PORTFOLIO_COST_WITH_SAGA",Ae=Object(x.a)((function(e){return{App:{margin:"0 auto"},mainContainer:{display:"flex",flexDirection:"column",backgroundColor:"#EEE"}}}));var Ie=function(){var e=Object(r.useState)("rur"),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(i.c)(pe),s=a.stock,o=a.bonds,u=a.forex,l=a.pif,j=a.etf,d=Ae(),O=Object(i.b)(),f=Object(i.c)(xe),p=Object(i.c)(he),x=Object(i.c)(ke),k=Object(i.c)(ye),y=Object(i.c)(me),m=Object(i.c)(ve),v=Object(i.c)(Ce);return Object(r.useEffect)((function(){O(Re(s,"stock")),O(Re(l,"pif")),O(Re(j,"etf")),O(Re(o,"bonds")),O(Re(u,"forex"))}),[]),Object(r.useEffect)((function(){O(function(e,t,c,r,n){return{type:Ue,stock:e,pif:t,etf:c,bonds:r,forex:n}}(f,p,x,k,y))}),[O]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("select",{required:!0,onChange:function(e){n(e.target.value)},className:d.searchItem,children:[Object(h.jsx)("option",{value:"rur",children:"rur"}),Object(h.jsx)("option",{value:"usd",children:"usd"}),Object(h.jsx)("option",{value:"eur",children:"eur"})]}),Object(h.jsx)("div",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(h.jsx)(we,{tickers:y,myProfit:v.forex,type:"forex",currency:c}),Object(h.jsx)("div",{children:"\u0410\u043a\u0446\u0438\u0438"}),Object(h.jsx)(we,{tickers:f,myProfit:v.stock,type:"stock",currency:c}),Object(h.jsx)("div",{children:"\u0424\u043e\u043d\u0434\u044b"}),Object(h.jsx)(we,{tickers:p,myProfit:v.pif,type:"pif",currency:c}),Object(h.jsx)(we,{tickers:x,myProfit:v.etf,type:"etf",currency:c}),Object(h.jsx)("div",{children:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438"}),Object(h.jsx)(we,{tickers:k,myProfit:v.bonds,type:"bonds",currency:c}),Object(h.jsx)("h1",{children:be.currentUser?be.currentUser.email:""}),Object(h.jsxs)("p",{children:["\u20bd ",m?m.RUBGrandTotal:""]}),Object(h.jsxs)("p",{children:["$ ",m?m.USDGrandTotal:""]}),Object(h.jsxs)("p",{children:["\u20ac ",m?m.EURGrandTotal:""]})]})};var Fe=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),c=t[0],n=t[1];Object(r.useEffect)((function(){return Object(de.b)(be,(function(e){e?(n(!0),console.log(be.currentUser.email)):n(!1)}))}),[]);var a=Object(r.useCallback)((function(){Object(de.d)(be).then((function(){})).catch((function(e){}))}),[]);return Object(h.jsxs)(j.a,{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(j.b,{to:"".concat(re,"/"),children:"Main"}),Object(h.jsx)(j.b,{to:"".concat(re,"/profile"),children:"Profile"}),Object(h.jsx)(j.b,{to:"".concat(re,"/signup"),children:"Registration"}),Object(h.jsx)(j.b,{to:"".concat(re,"/login"),children:"Login"}),Object(h.jsx)("button",{onClick:a,children:"Sign Out"})]}),Object(h.jsxs)(d.d,{children:[Object(h.jsx)(ae,{authenticated:c,exact:!0,path:"".concat(re,"/"),children:Object(h.jsx)(te,{})}),Object(h.jsx)(ae,{authenticated:c,exact:!0,path:"".concat(re,"/profile"),children:Object(h.jsx)(Ie,{})}),Object(h.jsx)(ie,{authenticated:c,path:"".concat(re,"/signup"),children:Object(h.jsx)(Oe,{})}),Object(h.jsx)(ie,{authenticated:c,path:"".concat(re,"/login"),children:Object(h.jsx)(fe,{})}),Object(h.jsx)(d.b,{children:Object(h.jsx)("h4",{children:"404"})})]})]})},_e=c(31),Pe=c(72),qe=c(60),Le=c(70),Be=c.n(Le),He={userData:{},currentUserData:{},filteredTickers:{}},Ge=c(37),We=c(26),Ke=f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(We.a)(w,t.stock,t.pif,t.etf,t.bonds,t.forex);case 3:return c=e.sent,e.next=6,Object(We.b)(Se(c));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),Me=f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(We.a)(S,t.allTickers);case 3:return c=e.sent,e.next=6,Object(We.b)(Q(c));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),Ye=f.a.mark((function e(t){var c,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ue.c)(je,"".concat(be.currentUser.uid,"/tickers/").concat(t.tickerType,"/").concat(t.ticker,"/data/").concat(t.date));case 3:return c=e.sent,e.next=6,Object(ue.e)(c,{ticker:t.ticker,description:t.description,quantity:t.quantity,cost:t.cost,total:t.total,roubleCost:t.roubleCost,roubleTotal:t.roubleTotal,currency:t.currency,profitCurrencyAbs:t.profitCurrencyAbs,profitCurrencyRel:t.profitCurrencyRel,profitRubAbs:t.profitRubAbs,profitRubRel:t.profitRubRel});case 6:return e.next=8,Object(ue.c)(je,"".concat(be.currentUser.uid,"/portfolio/").concat(t.tickerType,"/").concat(t.ticker,"/"));case 8:return r=e.sent,e.next=11,Object(ue.e)(r,{ticker:t.ticker,quantity:t.quantity,currency:t.currency,description:t.description});case 11:return e.next=13,{ticker:t.ticker,quantity:t.quantity,cost:t.cost,total:t.total,roubleCost:t.roubleCost,roubleTotal:t.roubleTotal};case 13:return n=e.sent,e.next=16,Object(We.b)(X(t.ticker,t.date,t.quantity,t.currency,n));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case 22:case"end":return e.stop()}}),e,null,[[0,18]])})),$e=f.a.mark((function e(t){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ue.c)(je,"".concat(be.currentUser.uid,"/portfolio/").concat(t.marketType,"/").concat(t.ticker));case 3:return c=e.sent,e.next=6,Object(ue.d)(c);case 6:return e.next=8,Object(ue.c)(je,"".concat(be.currentUser.uid,"/tickers/").concat(t.marketType,"/").concat(t.ticker));case 8:return r=e.sent,e.next=11,Object(ue.d)(r);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case 17:case"end":return e.stop()}}),e,null,[[0,13]])})),ze=f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(+new Date(t.date)<+new Date-6912e5)){e.next=7;break}return e.next=4,Object(We.a)(R,t.ticker,new Date(+new Date(t.date)+6048e5),t.quantity,t.currency,t.prevData);case 4:return c=e.sent,e.next=7,Object(We.b)(c);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})),Je=f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(We.a)(N,t.tickers,t.tickerType);case 3:return c=e.sent,e.next=6,Object(We.b)(De(c,t.tickerType));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),Xe=f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ue.c)(je,"".concat(be.currentUser.uid));case 3:return t=e.sent,e.next=6,Object(ue.b)(t,(function(e){var t=e.val();jt.dispatch(H(t||{}))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),Ve=f.a.mark(Qe);function Qe(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.b)(G,Xe);case 2:return e.next=4,Object(Ge.a)(g,Ye);case 4:return e.next=6,Object(Ge.b)(I,$e);case 6:return e.next=8,Object(Ge.a)(J,ze);case 8:return e.next=10,Object(Ge.a)(Te,Je);case 10:return e.next=12,Object(Ge.b)(Ue,Ke);case 12:return e.next=14,Object(Ge.b)(Z,Me);case 14:case"end":return e.stop()}}),Ve)}var Ze=Qe,et=He.userData;var tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(v.a)({},t.userData);default:return e}},ct=He.currentUserData;var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t.tickerType,t.tickerTable));case Ee:return Object(v.a)(Object(v.a)({},e),{},{portfolioCost:t.portfolioCost});case V:return Object(v.a)(Object(v.a)({},e),{},{yearProfit:t.yearProfit});default:return e}},nt=He.filteredTickers;var at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(v.a)({},t.filteredTickers);default:return e}},st=Object(_e.b)({userData:tt,currentUserData:rt,filteredTickers:at}),it={onError:function(e,t){console.log("qqq"+e),console.log(t)}},ot=Object(Pe.a)(it),ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.c,lt={key:"root",storage:Be.a},bt=Object(qe.a)(lt,st),jt=Object(_e.d)(bt,He,ut(Object(_e.a)(ot)));ot.run(Ze);var dt=Object(qe.b)(jt),Ot=Object(u.a)({palette:{primary:{main:"#708238"},secondary:{main:"#0098FF"}}});var ft=function(){return Object(h.jsx)(i.a,{store:jt,children:Object(h.jsx)(o.a,{persistor:dt,children:Object(h.jsx)(l.a,{theme:Ot,children:Object(h.jsx)(Fe,{})})})})},pt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(ft,{})}),document.getElementById("root")),pt()}},[[89,1,2]]]);
//# sourceMappingURL=main.4b556f90.chunk.js.map